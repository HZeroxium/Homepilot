<!-- views/devices/edit_device.ejs -->
<% title = 'Chỉnh Sửa Thiết Bị' %>

<main class="container mt-5">
  <h2 class="text-primary mb-4"><i class="bi bi-pencil-square"></i> Chỉnh Sửa Thiết Bị</h2>

  <% if (error_msg) { %>
    <div class="alert alert-danger"><%= error_msg %></div>
  <% } %>
  <% if (success_msg) { %>
    <div class="alert alert-success"><%= success_msg %></div>
  <% } %>

  <form action="/devices/<%= device.uid %>/edit" method="POST">
    <div class="mb-3">
      <label for="name" class="form-label">Tên thiết bị:</label>
      <input
        type="text"
        class="form-control"
        name="name"
        id="name"
        value="<%= device.name %>"
        required
      />
    </div>
    <div class="mb-3">
      <label for="type" class="form-label">Loại thiết bị:</label>
      <select class="form-select" name="type" id="type" required>
        <option value="intrusion" <%= device.type === 'intrusion' ? 'selected' : '' %>>
          Phát Hiện Xâm Nhập
        </option>
        <option value="fire_smoke" <%= device.type === 'fire_smoke' ? 'selected' : '' %>>
          Cảnh Báo Cháy Và Khói
        </option>
        <option value="access_control" <%= device.type === 'access_control' ? 'selected' : '' %>>
          Kiểm Soát Truy Cập
        </option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">
      <i class="bi bi-save"></i> Lưu Thay Đổi
    </button>
  </form>
</main>

